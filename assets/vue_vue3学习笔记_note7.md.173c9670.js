import{_ as s,c as n,o as a,d as l}from"./app.270ddf6f.js";const F=JSON.parse('{"title":"Vue Devtools - 调试工具","description":"","frontmatter":{},"headers":[{"level":2,"title":"浏览器自带的调试工具","slug":"浏览器自带的调试工具","link":"#浏览器自带的调试工具","children":[{"level":3,"title":"console","slug":"console","link":"#console","children":[]}]},{"level":2,"title":"Vue Devtools","slug":"vue-devtools","link":"#vue-devtools","children":[]},{"level":2,"title":"断点调试","slug":"断点调试","link":"#断点调试","children":[]},{"level":2,"title":"性能相关的调试","slug":"性能相关的调试","link":"#性能相关的调试","children":[]},{"level":2,"title":"h函数","slug":"h函数","link":"#h函数","children":[]},{"level":2,"title":"JSX","slug":"jsx-1","link":"#jsx-1","children":[]},{"level":2,"title":"JSX 和 Template","slug":"jsx-和-template","link":"#jsx-和-template","children":[]},{"level":2,"title":"什么是TypeScript","slug":"什么是typescript","link":"#什么是typescript","children":[]},{"level":2,"title":"TypeScript进阶用法 - 泛型","slug":"typescript进阶用法-泛型","link":"#typescript进阶用法-泛型","children":[]},{"level":2,"title":"Vue3中的TypeScript","slug":"vue3中的typescript","link":"#vue3中的typescript","children":[]},{"level":2,"title":"组件库","slug":"组件库","link":"#组件库","children":[]},{"level":2,"title":"工具库","slug":"工具库","link":"#工具库","children":[{"level":3,"title":"axios","slug":"axios","link":"#axios","children":[]},{"level":3,"title":"sass","slug":"sass","link":"#sass","children":[]}]},{"level":2,"title":"代码规范和提交规范","slug":"代码规范和提交规范","link":"#代码规范和提交规范","children":[]},{"level":2,"title":"ESLint - 代码规范","slug":"eslint-代码规范","link":"#eslint-代码规范","children":[]},{"level":2,"title":"git - 提交规范","slug":"git-提交规范","link":"#git-提交规范","children":[]},{"level":2,"title":"登录权限","slug":"登录权限","link":"#登录权限","children":[{"level":3,"title":"mock模拟数据","slug":"mock模拟数据","link":"#mock模拟数据","children":[]},{"level":3,"title":"token","slug":"token","link":"#token","children":[]}]},{"level":2,"title":"页面权限","slug":"页面权限","link":"#页面权限","children":[{"level":3,"title":"路由导航守卫","slug":"路由导航守卫","link":"#路由导航守卫","children":[]},{"level":3,"title":"角色权限","slug":"角色权限","link":"#角色权限","children":[]},{"level":3,"title":"动态路由","slug":"动态路由","link":"#动态路由","children":[]}]}],"relativePath":"vue/vue3学习笔记/note7.md"}'),p={name:"vue/vue3学习笔记/note7.md"},e=l(`<h1 id="vue-devtools-调试工具" tabindex="-1">Vue Devtools - 调试工具 <a class="header-anchor" href="#vue-devtools-调试工具" aria-hidden="true">#</a></h1><h2 id="浏览器自带的调试工具" tabindex="-1">浏览器自带的调试工具 <a class="header-anchor" href="#浏览器自带的调试工具" aria-hidden="true">#</a></h2><h3 id="console" tabindex="-1">console <a class="header-anchor" href="#console" aria-hidden="true">#</a></h3><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Console" target="_blank" rel="noreferrer">console的讲解-MDN</a></li><li>在main.js中加入以下代码，可以直接在控制台中打印出stackoverflow搜索的地址</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">onerror</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://stackoverflow.com/search?q=[js]+</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e</span><span style="color:#F07178;">])</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ul><li>console.log</li><li><a href="http://console.info" target="_blank" rel="noreferrer">console.info</a></li><li>console.error</li><li>console.table</li><li>...</li></ul><p><strong>tips</strong></p><p>一道面试题：统计一个网页一共有多少种标签</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Set</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">querySelectorAll</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">*</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;font-style:italic;">n</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> n</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">nodeName))</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">size</span></span>
<span class="line"></span></code></pre></div><p>统计出现次数最多的三种标签</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">entries</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">querySelectorAll</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;font-style:italic;">n</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> n</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">tagName)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reduce</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">pre</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">cur</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">pre</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">cur</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">pre</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">cur</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">pre</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sort</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">a</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">b</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> b[</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">] </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> a[</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">])</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">slice</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="vue-devtools" tabindex="-1">Vue Devtools <a class="header-anchor" href="#vue-devtools" aria-hidden="true">#</a></h2><ul><li><a href="https://devtools.vuejs.org/guide/installation.html" target="_blank" rel="noreferrer">安装</a></li></ul><h2 id="断点调试" tabindex="-1">断点调试 <a class="header-anchor" href="#断点调试" aria-hidden="true">#</a></h2><ul><li>debugger</li></ul><h2 id="性能相关的调试" tabindex="-1">性能相关的调试 <a class="header-anchor" href="#性能相关的调试" aria-hidden="true">#</a></h2><ul><li><code>performace</code> tab页面</li><li><a href="https://developer.chrome.com/docs/devtools/evaluate-performance" target="_blank" rel="noreferrer">chorme官方文档</a></li><li>lighthouse 生成性能报告。根据性能报告中的相关建议。可以对网页进行性能的提升</li></ul><h1 id="jsx" tabindex="-1">JSX <a class="header-anchor" href="#jsx" aria-hidden="true">#</a></h1><h2 id="h函数" tabindex="-1">h函数 <a class="header-anchor" href="#h函数" aria-hidden="true">#</a></h2><ul><li><a href="https://v3.cn.vuejs.org/api/global-api.html#createapp" target="_blank" rel="noreferrer">官网教程</a><ul><li>返回一个”虚拟节点“，通常缩写为<code>VNode</code>：一个普通对象，其中包含向Vue描述它应在页面上渲染哪种节点的信息，包括所有子节点的描述，用于手动编写的<code>渲染函数</code></li><li>内部调用了<code>createVnode</code>来返回虚拟DOM。</li><li>参数：<code>type</code>，<code>props</code>，<code>children</code><ul><li><strong>type</strong>: HTML标签名、组件、异步组件或函数式组件 - <code>必须的参数</code> - <code>String | Object | Function</code></li><li><strong>props</strong>: 一个对象，与将在模板中使用的attribute、prop和事件对应 - <code>可选参数</code> - <code>Object</code></li><li><strong>children</strong>: 子代VNode，使用<code>h()</code>生成，或者使用字符串来获取<code>文本VNode</code>，或者带有插槽的对象 - <code>可选</code> - <code>String | Array | Object</code></li></ul></li><li>栗子</li></ul></li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">render() {</span></span>
<span class="line"><span style="color:#A6ACCD;">    return h(&#39;h1&#39;, {}, &#39;Some title&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">h(&#39;div&#39;, {}, [</span></span>
<span class="line"><span style="color:#A6ACCD;">    &#39;Some text comes first.&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    h(&#39;h1&#39;, &#39;A headline&#39;),</span></span>
<span class="line"><span style="color:#A6ACCD;">    h(MyComponent, {</span></span>
<span class="line"><span style="color:#A6ACCD;">        someProp: &#39;foobar&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    })</span></span>
<span class="line"><span style="color:#A6ACCD;">])</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">function addCount() {</span></span>
<span class="line"><span style="color:#A6ACCD;">    count.value++;</span></span>
<span class="line"><span style="color:#A6ACCD;">} </span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ul><li>template是vue3的默认写法，Vue会把<code>&lt;template&gt;</code>解析为<code>render</code>函数，之后，组件运行的时候，通过render函数去返回虚拟DOM。<code>除了写template，在某些场景下，我们可以直接写render函数来实现组件。</code></li><li>栗子</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">defineComponent</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">h</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineComponent</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">props</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">level</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> Number</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">required</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">setup</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">props</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#A6ACCD;font-style:italic;">slots</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">h</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">props</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">level</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 标签名</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">{},</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 标签的prop 或者 attribute</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">slots</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">default</span><span style="color:#F07178;">() </span><span style="color:#676E95;font-style:italic;">// 子节点</span></span>
<span class="line"><span style="color:#F07178;">        )</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><ul><li>手写h函数，可以处理动态性更高的场景，如果是复杂的场景，h函数处理起来就会很复杂，需要把所有属性都转为对象 --&gt; 替代方案 <code>JSX</code></li></ul><h2 id="jsx-1" tabindex="-1">JSX <a class="header-anchor" href="#jsx-1" aria-hidden="true">#</a></h2><ul><li>**在JavaScript里面写HTML的语法，就叫JSX。**是对JavaScript语法的一个扩展。 - 是h函数的一个语法糖，本质上就是JavaScript</li><li><a href="https://github.com/vuejs/jsx-next/blob/dev/packages/babel-plugin-jsx/README-zh_CN.md" target="_blank" rel="noreferrer">官方教程</a></li><li>JSX的语法：</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">    const element = &lt;h1 id=&quot;app&quot;&gt;Hello, World&lt;/h1&gt;; </span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ul><li>JSX的本质：</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">    // h 函数内部也是调用这个函数返回虚拟DOM</span></span>
<span class="line"><span style="color:#A6ACCD;">    const element = createVnode(&#39;h1&#39;, { id: &#39;app&#39; }, &#39;hello, world&#39;); </span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ul><li>JSX到createVnode的转换 <ul><li>安装插件</li></ul></li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">        npm install @vitejs/plugin-vue-jsx -D</span></span>
<span class="line"><span style="color:#A6ACCD;">        function addCount() {</span></span>
<span class="line"><span style="color:#A6ACCD;">            count.value++; </span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ul><li>配置</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// vite.config.js</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> vueJsx </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue-jsx</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineConfig</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#82AAFF;">vueJsx</span><span style="color:#A6ACCD;">()]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">addCount</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">++;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ul><li>定义</li></ul><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">defineComponent</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">h</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineComponent</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">props</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">level</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> Number</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">required</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 标签名都需要动态处理的需求</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">setup</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">props</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#A6ACCD;font-style:italic;">slots</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// return () =&gt; h(</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//     &#39;h&#39; + props.level, // 标签名</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//     {}, // 标签的prop 或者 attribute</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//     slots.default() // 子节点</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// 引入JSX之后的写法</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tag</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">props</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">level</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt; </span><span style="color:#F07178;">tag</span><span style="color:#89DDFF;"> &gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            slots</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">default</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">tag</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">addCount</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">++;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ul><li>使用：与组件使用方式一致</li></ul><ul><li>Tips: <ul><li>vModel取代v-model： <code>vModel={title.value}</code></li><li>onClick取到@click</li><li>.map取到v-for</li><li>三元表达式取到v-if</li></ul></li></ul><h2 id="jsx-和-template" tabindex="-1">JSX 和 Template <a class="header-anchor" href="#jsx-和-template" aria-hidden="true">#</a></h2><ul><li>JSX的优势 <ul><li>JSX可以支持更动态的需求，而template则因为语法限制的原因，不能够像JSX那样可以支持更动态的需求</li><li>JSX：可以正在一个文件返回多个组件</li></ul></li><li>Template的优势 <ul><li>静态标签直接越过Diff过程</li><li>高效利用缓存</li></ul></li></ul><h1 id="vue3-中使用-typescript" tabindex="-1">Vue3 中使用 TypeScript <a class="header-anchor" href="#vue3-中使用-typescript" aria-hidden="true">#</a></h1><p>提高代码可维护性和调试效率的强类型语言-TypeScript</p><h2 id="什么是typescript" tabindex="-1">什么是TypeScript <a class="header-anchor" href="#什么是typescript" aria-hidden="true">#</a></h2><p>相当于在JavaScript外面包裹了一层类型系统。</p><p><a href="https://www.typescriptlang.org/play?#code/FAGwpgLgBAxg9gVwE4GcwDkCGBbMAuFCJASwDsBzKAXigHJBK50Bt4gNQTAGZALRUDbtQNwtbQkKAAcSMfKQTYARmCTUoARgBMATkHRiKAPKkQZfNLhxwmUgqJtgwUcXELaACzAgQcKAHc4SEABMBQA" target="_blank" rel="noreferrer">演示连接</a></p><h2 id="typescript进阶用法-泛型" tabindex="-1">TypeScript进阶用法 - 泛型 <a class="header-anchor" href="#typescript进阶用法-泛型" aria-hidden="true">#</a></h2><ul><li>泛型就是指有些函数的参数，你在定义的时候是不确定的类型，而是返回值类型需要根据参数来确定。</li><li>我们再函数名后面的用尖括号包裹一个类型占位符</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">    function test&lt;某种类型&gt; (args: 某种类型): 某种类型 {</span></span>
<span class="line"><span style="color:#A6ACCD;">        return args</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 调用</span></span>
<span class="line"><span style="color:#A6ACCD;">    test(1)</span></span>
<span class="line"><span style="color:#A6ACCD;">    test&lt;number&gt;(1)</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ul><li>栗子：实现一个函数getProperty，动态的返回对象的属性</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">    function getProperty&lt;某种类型， 某种属性 extends keyof 某种类型&gt;(o: 某种类型， name: 某种属性)： 某种类型[某种属性] {</span></span>
<span class="line"><span style="color:#A6ACCD;">        return o[name]</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    function getProperty&lt;T, K extends keyof T&gt;(o: T, name: K): T[K] {</span></span>
<span class="line"><span style="color:#A6ACCD;">        return o[name]; </span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="vue3中的typescript" tabindex="-1">Vue3中的TypeScript <a class="header-anchor" href="#vue3中的typescript" aria-hidden="true">#</a></h2><ul><li>使用：lang=&quot;ts&quot; 标记当前组件使用TypeScript</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">computed</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">reactive</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ref</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">defineProps</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">defineEmits</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@vue/runtime-core</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">极客时间课程</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">price</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> msg </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// 根据输入参数推导字符串类型</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> msg1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// 可以通过泛型显示约束</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">reactive</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">reactive</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">极客时间课程</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">玩转Vue3全家桶</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">price</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">129</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> msg2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">computed</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// 默认推导参数</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> course2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">computed</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">极客时间课程</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">玩转Vue3全家桶</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> price</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">129</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> props </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineProps</span><span style="color:#89DDFF;">&lt;{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}&gt;</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> emit </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineEmits</span><span style="color:#89DDFF;">&lt;{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">update</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}&gt;</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"></span></code></pre></div><ul><li>vue-router <ul><li>vue-router提供了<code>Router</code>，<code>RouteRecordRaw</code>两个路由的类型。</li><li>路由的配置：RouteRecordRaw</li><li>返回的router实例：Router</li></ul></li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">    import { createRouter, createWebHashHistory, Router, RouteRecordRaw } from &#39;vue-router&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    const routes: Array&lt;RouteRecordRaw&gt; = [</span></span>
<span class="line"><span style="color:#A6ACCD;">        ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    const router: Router = createRouter({</span></span>
<span class="line"><span style="color:#A6ACCD;">        history: createWebHashHistory(),</span></span>
<span class="line"><span style="color:#A6ACCD;">        routes</span></span>
<span class="line"><span style="color:#A6ACCD;">    })</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    export default router</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h1 id="vue项目规范和基础库" tabindex="-1">Vue项目规范和基础库 <a class="header-anchor" href="#vue项目规范和基础库" aria-hidden="true">#</a></h1><ul><li>Vite + Vue3 + Vue Router + Vuex + Element3 + Axios + Sass</li></ul><h2 id="组件库" tabindex="-1">组件库 <a class="header-anchor" href="#组件库" aria-hidden="true">#</a></h2><p><code>npm install element3 --save</code></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">import Element3 from &#39;element3&#39;; </span></span>
<span class="line"><span style="color:#A6ACCD;">import &#39;element3/lib/theme-chalk/index.css&#39;; </span></span>
<span class="line"><span style="color:#A6ACCD;">app.use(ELement3)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="工具库" tabindex="-1">工具库 <a class="header-anchor" href="#工具库" aria-hidden="true">#</a></h2><h3 id="axios" tabindex="-1">axios <a class="header-anchor" href="#axios" aria-hidden="true">#</a></h3><p><code>npm install axios --save</code></p><h3 id="sass" tabindex="-1">sass <a class="header-anchor" href="#sass" aria-hidden="true">#</a></h3><p><code>npm install -D sass</code></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;style lang=&quot;scss&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">$padding: 10px    // 变量</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/style&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="代码规范和提交规范" tabindex="-1">代码规范和提交规范 <a class="header-anchor" href="#代码规范和提交规范" aria-hidden="true">#</a></h2><h2 id="eslint-代码规范" tabindex="-1">ESLint - 代码规范 <a class="header-anchor" href="#eslint-代码规范" aria-hidden="true">#</a></h2><ul><li>安装：<code>npm install eslint -D</code></li><li>配置：根目录下执行<code>npx eslint --init</code></li><li>eslintric.json配置额外的校验规则</li><li><code>npx eslint src</code>：检测src目录下哪些代码不合规范</li><li>执行git commit命令的时候，同时执行ESLint：使用<code>husky</code>管理git的钩子函数，在每次代码提交至git之前去执行ESLint，校验通过才可以提交代码</li></ul><h2 id="git-提交规范" tabindex="-1">git - 提交规范 <a class="header-anchor" href="#git-提交规范" aria-hidden="true">#</a></h2><ul><li>Vue3的代码提交日志格式：【类别：信息】 <ul><li>fix - 修复</li><li>feat = 功能开发</li></ul></li><li>git提交规范：描述信息精准的git提交日志，会让我们在后期的维护和处理bug是有据可查</li></ul><h1 id="项目开发中的权限系统" tabindex="-1">项目开发中的权限系统 <a class="header-anchor" href="#项目开发中的权限系统" aria-hidden="true">#</a></h1><ul><li>栗子项目 Vite-Course</li></ul><h2 id="登录权限" tabindex="-1">登录权限 <a class="header-anchor" href="#登录权限" aria-hidden="true">#</a></h2><h3 id="mock模拟数据" tabindex="-1">mock模拟数据 <a class="header-anchor" href="#mock模拟数据" aria-hidden="true">#</a></h3><ul><li>安装mockjs</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">    npm install mockjs vite-plugin-mock cross-env -D</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ul><li>在vite.config.js中添加mockjs插件</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    import { viteMockServe } from &#39;vite-plugin-mock&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    plugins: [vue(), vueJsx(), viteMockServe({</span></span>
<span class="line"><span style="color:#A6ACCD;">        // default</span></span>
<span class="line"><span style="color:#A6ACCD;">        mockPath: &#39;mock&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">        localEnabled: true,</span></span>
<span class="line"><span style="color:#A6ACCD;">    })]</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="token" tabindex="-1">token <a class="header-anchor" href="#token" aria-hidden="true">#</a></h3><ul><li>通常把用户名、过期日期等重要信心进行加密，生成一个token返回前端，前端后续的请求都需要带上token才可以认证通过</li></ul><h2 id="页面权限" tabindex="-1">页面权限 <a class="header-anchor" href="#页面权限" aria-hidden="true">#</a></h2><h3 id="路由导航守卫" tabindex="-1">路由导航守卫 <a class="header-anchor" href="#路由导航守卫" aria-hidden="true">#</a></h3><ul><li><a href="https://next.router.vuejs.org/zh/guide/advanced/navigation-guards.html" target="_blank" rel="noreferrer">路由导航守卫官网地址</a></li></ul><h3 id="角色权限" tabindex="-1">角色权限 <a class="header-anchor" href="#角色权限" aria-hidden="true">#</a></h3><ul><li>控制一类角色的页面权限：动态路由.</li><li>一部分页面是写在代码的src/router/index.js中，另外一部分是我们通过axios获取数据之后，通过调用vue-router的addRoute方法到动态的添加进项目整体的路由配置的。</li><li>静态路由与动态路由之分</li></ul><h3 id="动态路由" tabindex="-1">动态路由 <a class="header-anchor" href="#动态路由" aria-hidden="true">#</a></h3><ul><li><a href="https://next.router.vuejs.org/zh/guide/advanced/dynamic-routing.html" target="_blank" rel="noreferrer">动态路由</a></li></ul><p>----- 还没有代码开放出来 ----- 1、登录页面还没写 2、mock模拟数据不清楚 3、模拟请求不清楚</p><p>流程： 1、mock数据 2、jwt生成token 3、拦截器Token夹头 4、路由守卫权限验证 5、登录逻辑</p>`,89),o=[e];function t(c,r,i,y,D,C){return a(),n("div",null,o)}const d=s(p,[["render",t]]);export{F as __pageData,d as default};
